apply plugin: 'java'
apply plugin: 'application'

version = '1.0'

mainClassName = "com.infra.dropwizard.TestProjectApplication"

repositories {
    mavenCentral()
}

dependencies {
    compile 'io.dropwizard:dropwizard-auth:0.8.0-rc2'
    compile 'io.dropwizard:dropwizard-core:0.8.0-rc2'
    compile 'io.dropwizard:dropwizard-testing:0.8.0-rc2'

    compile 'com.github.davidmarquis:fluent-interface-proxy:1.3.0'

    testCompile 'org.testng:testng:6.8.21'
}

run {
    args 'server', 'dropwizardTest.yml'
}

test {
    useTestNG() {
        println(properties.toMapString())
        suites("src/test/resources/testng.yaml")
        includeGroups("second-test")
        println(properties.toMapString())
    }
}

